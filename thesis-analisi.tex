%% Capitolo
\chapter{Analisi del problema e dei requisiti}

Lo sviluppo di una base di dati centralizzata per la Clinica Ostetrica dell'Ospedale di Udine si inserisce in un progetto di studio più ampio, mirato alla raccolta e all'analisi dei dati relativi a gravidanze e parti, al fine di migliorare l'assistenza fornita dal personale medico e la conseguente esperienza delle pazienti.
Nell'ambito medico in generale la raccolta dati investe un ruolo cruciale: attraverso l'analisi e l'interpretazione dei risultati statistici è possibile in particolare:
\begin{itemize}
\item migliorare la cura del paziente individuando modelli, tendenze e fattori di rischio, consentendo così ai medici di predisporre strumenti di prevenzione adatti \cite{Cor20,McC16};
\item promuovere la ricerca scientifica stimolando nuovi studi a partire dai risultati, potenzialmente inediti, estrapolati dalla mole di dati trattata dal personale ospedaliero;
\item ottimizzare la gestione ospedaliera grazie alle informazioni su efficienza operativa, uso delle risorse e conseguenti risultati.
\end{itemize}
Più nello specifico, la Clinica Ostetrica presso l'Ospedale \enquote{Santa Maria della Misericordia} di Udine è interessata a sostituire i diversi strumenti software attualmente in uso con un sistema centralizzato, personalizzato secondo i requisiti dei medici e che migliori l'accesso ai dati sia per la sintesi dei dati della singola paziente sia per analisi statistiche di più ampia scala.

\section{Presentazione del problema}
\label{problem}

Il personale medico utilizza sistemi informatici specifici, integrati e uniformati a livello di azienda sanitaria o di sistema sanitario regionale, per compilare e conservare referti di visite ed esami vari; ciò permette il funzionamento dei fascicoli sanitari digitalizzati attualmente in uso.
I software in questione sono progettati per rispettare normative legali e standard di qualità e privacy, consentendo di accedere ai singoli referti, ma rendono più difficoltosa l'estrazione delle singole informazioni su pazienti o esami.
Per i medici della Clinica che ha richiesto la realizzazione di un nuovo sistema informatico, la necessità è di poter inserire o visualizzare i dati in modo immediato, senza che sia necessario leggere l'intero referto, consentendo inoltre di processare i risultati a fini statistici anche con metodi automatizzati.

I diversi momenti nel corso della gravidanza in cui vengono registrati dati relativi alla paziente (come parametri fisiologici o esami svolti) si sintetizzano nei seguenti.

\begin{enumerate}
\item Una visita nel primo trimestre di gravidanza, svolta tra le xesima e la xesima settimana, volta principalmente all'esame chiamato \emph{translucenza nucale} e a un accertamento delle condizioni iniziali della gravidanza.
\item Una visita nel secondo trimestre, detta \emph{morfologica}, che punta ad analizzare lo sviluppo del feto, svolta tra la xesima e la xesima settimana.
\item Una o più visite ecografiche, dette anche \emph{biometriche}, svolte nel corso del terzo trimestre.
\item Il travaglio e il parto, con informazioni sull'intero processo inclusi dati sui neonati.
\end{enumerate}

È importante considerare che il personale medico registra dati soltanto per le visite svolte all'interno della Clinica, e accade frequentemente che una o più visite vengano effettuate in altre strutture o che anche il parto possa avvenire presso altri punti nascite.

Oltre agli esiti di queste visite si vorrebbero conservare informazioni su eventuali patologie delle pazienti, potendo contare sulla presenza di un ambulatorio specifico per le gravidanze \emph{a rischio} che monitora anche le terapie seguite.

\section{Supporti software in uso}

Come presentato nella sezione \ref{problem} i medici lamentano la mancanza di un software, personalizzato e parallelo ai sistemi di refertazione \enquote{ufficiali} attualmente in uso, che favorisca la lettura dei dati ai fini di consultazione e analisi statistica sull'insieme di pazienti.
In mancanza di uno strumento centralizzato adatto, nel corso degli ultimi anni (principalmente a partire dal 2023) il personale della Clinica ha registrato i dati di interesse attraverso altri strumenti, affiancati quindi ai referti, variabili sia nel livello di strutturazione dei dati sia nelle modalità di interazione.

Le informazioni raccolte dalle visite vengono registrate principalmente in semplici fogli di calcolo tabellari, accessibili dai diversi calcolatori del reparto e compilati manualmente: elencheremo i diversi campi di queste tabelle con il relativo significato e i possibili valori che possono assumere.
A questi si aggiunge un software più complesso e strutturato, ma giudicato non adatto alle esigenze del personale medico.

\subsection{Tabella per la visita del primo trimestre}
\label{firsttrimester}

Nella visita del primo trimestre vengono annotati aspetti di base ma fondamentali della gravidanza, insieme a primi test genetici e di rischio per determinate condizioni patologiche.
In questa visita viene svolto l'esame della translucenza nucale, volto a rilevare malformazioni nel feto già negli stadi iniziali della gravidanza \cite{Sou05}.
Questa tabella, così come le successive, contiene un record per ogni gravidanza.

Nella tabella la notazione usata adotta frequentemente abbreviazioni e i campi indicati sono stati predisposti direttamente dal personale medico che poi li deve compilare, adattandosi quindi alle convenzioni a cui gli operatori sono abituati.
La compilazione manuale dà ovviamente la possibilità di inserire informazioni sbagliate in tabella, siano esse dati verosimili ma non corrispondenti alla realtà oppure dati corretti ma espressi in modo inconsistente.

\begin{itemize}
\item \column{Data NT}: data della visita. La sigla NT sta per \enquote{translucenza nucale} (\emph{nuchal translucency}).
\item \column{Cognome}, \column{Nome}, \column{DdN}: dati personali identificativi della paziente (cognome, nome e data di nascita).
\item \column{Età all'esame}: età della paziente, espressa come numero intero.
\item \column{Gemellare}: indica se la gravidanza è gemellare, espresso con valori 0/1.
In questo attributo e nei seguenti, dove non espresso diversamente, 0 indica un valore falso, assente o negativo e 1 indica un valore vero, presente o positivo.
\item \column{EG}: età gestazionale, indicata come settimane più giorni (ad esempio 12+5).
\item \column{Rischio T21, Rischio T18, Rischio T13}: rischio valutato per le trisomie 21, 18 e 13.
I fattori di rischio sono indicati usualmente come classi di rischio, che vanno da alto (A), medio (M oppure I, intermedio), basso (B).
In alcuni casi il rischio viene indicato in modo più preciso come rapporto 1:X, con X valore intero, e un livello basso corrisponde a un rapporto 1:1000 o inferiore, un livello medio si trova tra 1:250 e 1:1000, un livello alto è 1:250 o superiore.
La scelta di indicare il rischio con una lettera, con l'intera parola o come rapporto dipende dall'operatore che compila la tabella.
\item \column{Morfologia fetale}: indica se sono presenti anomalie nella morfologia fetale, con valori 0/1.
\item \column{Anomalie segnalate}: se il campo precedente ha valore 1, indica le anomalie morfologiche riscontrate come descrizione testuale.
\item \column{NT}: esito dell'esame della translucenza nucale, indica lo spessore della plica nucale in millimetri espresso come numero reale.
\item \column{Esito genetica}: risultati di test genetici, eseguiti opzionalmente, successivamente alla visita. I risultati sono molto variabili e indicati come descrizione testuale.
\item \column{Premorfo indicata?}: riporta, se è stata effettuata, l'esito dell'eventuale ecografia premorfologica.
\item \column{NIPT}: riporta se è stato effettuato il test prenatale non-invasivo (\emph{Noninvasive Prenatal Testing}).
\item \column{esito NIPT}: esito dell'esame NIPT, riportato come descrizione testuale.
\item \column{BS/BSOB}: indice morfologico misurato sulle dimensioni del tronco encefalico (BS) e della distanza dall'osso occipitale (BSOB), indicato come valore reale.
\item \column{CRL}: indice morfologico, misurato sulla lunghezza del feto in millimetri.
\item \column{PAPP-A}, \column{freeBHCG}, \column{PLGF}: esami svolti sul sangue della paziente per la rilevazione di proteine e materiale genetico, danno valori reali.
\item \column{UTPI}: indice di pulsatilità dell'arteria uterina, espresso come valore reale.
\item \column{PAM}: pressione arteriosa media materna, misurata come valore intero in mmHg.
\item \column{Esito <34}, \column{Esito <37}: esiti di esami, espressi come rapporto di rischio.
\item \column{Prescrizione ASA}: indica se c'è stata prescrizione di cardioaspirina, con valori 0/1.
\item \column{Spontanea}, \column{PMA}, \column{IUI}, \column{FIVET}, \column{ICSI}, \column{Ovodonazione}: informazioni su concepimento ed eventuale tipo di procreazione medicalmente assistita, tutti con valori 0/1.
I campi \column{Spontanea} e \column{PMA} sono mutuamente esclusivi; gli altri campi, da \column{IUI} a \column{Ovodonazione}, sono compilati solo nel caso di procreazione medicalmente assistita.
\item \column{Peso}, \column{Altezza}, \column{BMI}: parametri fisici della paziente alla visita.
\item \column{Fumo}: indica se la paziente ha fumato nel periodo precedente alla visita, con valori 0/1.
\item \column{Diabete pregestazionale}: indica se la paziente soffre di diabete non dovuto alla gravidanza.
\item \column{Malattie autoimmuni}: indica, se ne soffre, le malattie autoimmuni della paziente, elencate in forma testuale.
\item \column{Pregressa PE}: indica se ha sofferto di preeclampsia (PE) in gravidanze precedenti.
\item \column{PE}, \column{IUGR}, \column{Eseguita ASA}, \column{EG al parto}: attributi predisposti per la compilazione alla conclusione del percorso di gravidanza, dato che si riferiscono a dati registrati alla fine della gravidanza o al momento del parto. In realtà questi campi normalmente non vengono compilati e le informazioni si possono reperire nella tabella che contiene i dati del parto.
\item \column{Note}: annotazioni aggiuntive.
\end{itemize}

\subsection{Tabella per la visita del secondo trimestre}
\label{secondtrimester}

La visita del secondo trimestre è incentrata sull'esecuzione di un'ecografia morfologica, ovvero volta a esaminare lo sviluppo del corpo del feto.
Si registrano anche eventuali esami svolti nel periodo precedente alla visita.

\begin{itemize}
\item \column{Data Morfo}: data di svolgimento della visita.
\item \column{Cognome}, \column{Nome}, \column{DdN}: dati personali identificativi della paziente.
\item \column{EG}, \column{Età all'esame}: età gestazionale ed età della paziente al momento della visita.
\item \column{Premorfo}: indica se è stata svolta un'ecografia premorfologia e l'evetntuale esito in forma testuale.
\item \column{Gemellare}: indica se la gravidanza è gemellare, con valori 0/1.
\item \column{Morfologia fetale}: indica se sono presenti anomalie morfologiche nel feto, con valori 0/1.
\item \column{Anomalie segnalate}: se il valore del campo precedente è 1, elenca le anomalie riscontrate in forma testuale.
\item \column{Decorso}: indica, in forma testuale, se ci sono stati eventi degni di nota nel periodo precedente alla visita.
\item \column{Esito genetica}: risultati di test genetici, non sempre presenti, descritti in forma testuale.
\item \column{Note}: annotazioni aggiuntive
\item \column{NIPT}: indica se è stato effettuato il test NIPT, con valori 0/1.
\item \column{Esito NIPT}: esito dell'esame NIPT. Come valori si trovano 0 (o equivalentemente: B, BR, basso, basso rischio), insufficiente (materiale mancante per dare un esito chiaro), oppure una descrizione testuale del risultato.
\end{itemize}

\subsection{Tabella per il parto}

Durante il ricovero ospedaliero per il periodo di travaglio e parto si registrano dati relativi sia al processo di espulsione (comprese tempistiche o complicazioni) sia parametri fisiologici della partoriente e dei nascituri.
I valori delle colonne da \column{APGAR} a \column{Sesso neonato} sono riferite ai neonati: se il parto è gemellare sono presenti due (o eventualmente più) valori, separati da uno spazio, per ciascuna di queste colonne, mantenendo ovviamente lo stesso ordine.

\begin{itemize}
\item \column{Data}: data del parto (?) o del ricovero in ospedale.
\item \column{PZ}: cognome e nome della paziente.
\item \column{S.G.}: età (stato) gestazionale, espresso sempre come settimane+giorni.
\item \column{Parità}: stringa di cifre che sintetizzano le gravidanze precedenti della paziente.
Si considerano: il numero di figli nati a termine, il numero di figli nati pretermine, il numero di aborti (spontanei cossì come per interruzione volontaria di gravidanza), il numero totale di figli nati vivi; la stringa risultante è costituita di questi valori, nell'ordine riportato (ad esempio 1021, 0000), e quindi è costituita generalmente di 4 caratteri, ma occasionalmente può averne di più se la paziente ha avuto un numero notevole di gravidanze.
\item \column{Travaglio}: indica il metodo di induzione del travaglio. Può avere i seguenti valori: indotto, spontaneo, senza travaglio. L'ultimo caso corrisponde a parti cesarei programmati.
\item \column{Motivo induzione}: indica il motivo dell'induzione del travaglio come descrizione testuale.
\item \column{Metodo induzione}: indica il metodo di induzione del travaglio. Solitamente corrisponde a una lista di abbreviazioni che rappresentano farmaci o metodi meccanici di induzione.
\item \column{Parto}: indica il tipo di parto, con i seguenti valori possibili: spontaneo, cesareo, operativo.
\item \column{Motivo parto operativo}: se il tipo di parto è operativo, riporta i motivi dell'attuazione, come descrizione testuale.
\item \column{Se TC}: se il tipo di parto è cesareo, riporta se è stato programmato come tale, con i seguenti valori possibili: programmato, urgente.
\item \column{Motivo TC}: se il tipo di parto è cesareo, riporta i motivi dell'attuazione, come descrizione testuale.
\item \column{Episiotomia}: indica se è stata svolta l'episiotomia, con valori possibili Sì o No.
\item \column{Motivo episiotomia}: se è sstata eseguita l'episiotomia, ne riporta il motivo come descrizione testuale.
\item \column{Lacerazioni}: indica il grado di lacerazioni. I valori possibili sono i seguenti: 0 (equivalenti: No, vuoto), 1, 2, 3, 4, AL (altro) 
\item \column{Tracheloraffia}: indica la presenza di lacerazioni nel collo dell'utero, con valori possibili Sì o No.
\item \column{Perineo integro}: indica se il perineo è rimasto integro, con valori Sì o No.
\item \column{Secondamento}: indica la modalità di espulsione della placenta nel processo del parto. I valori possibili sono i seguenti: attivo, strumentale, manuale, scovolamento.
\item \column{Perdite}: indica la perdita ematica sofferta durante il parto, quantificata in mL.
\item \column{Robson}: classificazione del parto con valori della scala di Robson.
\item \column{Analgesia}: indica se è stata somministrato un analgesico, con valori Sì o No.
\item \column{Tipo analgesia}: indica il tipo di analgesia somministrata. I valori possibili sono: spinale, epidurale (equivalente: peridurale), spinale e peridurale, calinox.
\item \column{APGAR}: valore di \enquote{vitalità} del neonato su una scala di valori interi da 0 a 10. Viene misurato al 1° minuto dalla nascita, al 5° minuto e occasionalmente anche al 10° minuto (ad esempio, 7/7/8).
\item \column{TIN}: indica se il neonato è stato sottoposto a terapia intensiva neonatale, con valori possibili Sì o No.
\item \column{pH}, \column{BE}: risultati delle analisi eseguite sul sangue del cordone ombelicale, espressi come valori reali.
\item \column{Sesso neonato}: indica il sesso attribuito al neonato, con valori possibili M o F.
\end{itemize}

\subsection{Rilevazione del cardiotocografo}

Durante il travaglio viene usato il cardiotocografo, uno strumento che rileva il battito cardiaco del feto (o anche di più feti nel caso di parti gemellari) e l'entità delle contrazioni uterine \cite{Ayr18}.
Questa apparecchiatura registra e salva i dati, in modo da poterli esportare in forma grafica o tabellare.
In particolare consideriamo il file risultato dall'esportazione in forma di foglio di calcolo, in cui vengono indicati alcuni dati identificativi della paziente.

\begin{itemize}
\item \column{Nome}, \column{Cognome}: informazioni personali della paziente.
\item \column{Num. progressivo}: identificativo progressivo, indicato come numero intero, attribuito dalla macchina alla registrazione.
\item \column{Data e ora inizio tracciato}: timestamp del momento che la macchina assume come \enquote{0 secondi}.
\end{itemize}

I diversi sensori dello strumento sono sincronizzati e rilevano i rispettivi valori 4 volte al secondo.
La tabella contiene quindi una riga per ogni rilevazione, ciascuna delle quali ha i seguenti campi.

\begin{itemize}
\item \column{Secondi}, \column{Decimi}: indicazione del momento di rilevazione, rispetto al tempo di inizio tracciato indicato all'inizio della tabella. Entrambi i valori sono interi, con \column{Decimi} che indica i centesimi~[\textit{sic}] di secondo (0, 25, 50, 75).
\item \column{FCF}, \column{FCF (2)}, \column{FCF (3)}: indicano la frequenza cardiaca fetale, come valore intero, rilevata da ciascuno dei tre sensori di cui è dotato lo strumento. Anche se la gravidanza è singola, non è necessariamente il sensore 1 a rilevare il battito del feto. Un valore assente, sia per sensori non utilizzati sia per eventuali errori nella rilevazione, è indicato nella tabella con -1.
Nel caso di parti gemellari non è possibile stabilire con precisione, eccetto rari casi, a quale neonato corrisponde ciascun tracciato.
\item \column{TOCO}: misura la contrazione uterina, indicata come valore intero.
\item \column{FCM}: misura la frequenza cardiaca materna, indicata sempre come valore intero.
\end{itemize}